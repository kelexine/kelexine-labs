## Development Proposal & Guidelines: Kelexine Labs

### 1. Project Title: Kelexine Labs - The Custom Termux Package Repository

**Vision Statement:** To establish and maintain a versatile, reliable, and easily accessible `apt`/`pkg` repository on GitHub, serving as the official distribution point for Kelexine's custom-built Termux packages and compiled binaries. Kelexine Labs aims to empower Termux users with unique tools and experimental projects, fostering innovation within the mobile development environment.

### 2. Project Goals

* **Primary Goal:** Create a fully functional `apt`/`pkg` repository capable of hosting diverse custom Termux packages.
* **Automation:** Implement an automated workflow for package building and repository deployment using GitHub Actions, minimizing manual intervention.
* **Accessibility:** Ensure the repository is easily discoverable and consumable by Termux users, with clear installation instructions.
* **Maintainability:** Design a repository structure and workflow that is easy to manage and scale as the number and complexity of packages grow.
* **Versatility:** Support the hosting of any type of Termux-compatible package, from utilities and development tools to experimental projects.

---

### 3. Repository Structure & Naming Convention

The `kelexine-labs` GitHub repository will follow a standard `apt` repository structure, with a clear and organized layout.

* **Repository Name:** `kelexine-labs` (on GitHub)
* **Distribution Name (internal):** `kelexine` (e.g., `dists/kelexine/main`)

#### Proposed Directory Structure:


kelexine-labs/
├── .github/
│   └── workflows/
│       └── build-repo.yml        # GitHub Actions workflow for automation
├── dists/                      # Generated by termux-apt-repo (e.g., dists/kelexine/main/binary-aarch64/)
├── pool/                       # Your .deb packages go here before automation
│   ├── your-package-1.0.0_aarch64.deb
│   └── another-tool-2.1_aarch64.deb
├── README.md                   # Repository overview, installation instructions, package list
├── LICENSE                     # Project license (e.g., MIT, GPL)
└── CNAME                       # Optional: For custom domain (e.g., https://www.google.com/url?sa=E&source=gmail&q=packages.kelexine.com)

#### Sections/Components:

* **`main`:** Default and primary section for stable, well-tested, and generally useful packages.
    * *Example Path:* `dists/kelexine/main/binary-aarch64/`
* **`experimental` (Optional, but recommended for growth):** For new, in-development, or less stable packages that you want to share but with the understanding they might change or break.
    * *Example Path:* `dists/kelexine/experimental/binary-aarch64/`
* **`tools` (Optional, for specific categories):** If a significant number of your packages fall into a specific category (e.g., command-line tools, development utilities), a dedicated section can improve organization.
    * *Example Path:* `dists/kelexine/tools/binary-aarch64/`

---

### 4. Automated Package Building & Deployment (The "One-Click Deploy")

This will be the cornerstone of Kelexine Labs, ensuring that new packages are seamlessly integrated and the repository remains up-to-date.

#### **Mechanism:** GitHub Actions with `termux-apt-repo`

1.  **Package Preparation:**
    * Each of your custom projects should, ideally, have a mechanism to build a Termux-compatible `.deb` package. This can be a `Makefile`, `build.sh` script, or other build system.
    * Ensure your `.deb` packages are correctly named (e.g., `package-name_version_architecture.deb`). The architecture for Termux on most modern devices will be `aarch64`.
2.  **Deployment Trigger:**
    * When a new `.deb` package is ready for release, you'll place it into the `pool/` directory of your `kelexine-labs` GitHub repository.
    * Committing and pushing this new `.deb` file (or an update to an existing one) to the `main` branch (or a designated `release` branch) will automatically trigger the GitHub Actions workflow.
3.  **GitHub Actions Workflow (`.github/workflows/build-repo.yml`):**
    * **Action:** Triggered on `push` to the `main` branch.
    * **Environment:** Runs on an `ubuntu-latest` GitHub Actions runner.
    * **Steps:**
        1.  `actions/checkout@v4`: Clones the `kelexine-labs` repository.
        2.  `actions/setup-node@v4`: Sets up a Node.js environment (required for `termux-apt-repo`).
        3.  `npm install -g termux-apt-repo`: Installs the `termux-apt-repo` utility.
        4.  `rm -rf dists/`: (Optional but recommended) Cleans up any previous `dists/` directory to ensure a fresh build.
        5.  `termux-apt-repo -r . -c "Kelexine Labs" -d "A repository for custom Termux packages by Kelexine."`: This command is the heart of the automation.
            * `-r .`: Specifies the root directory of the repository.
            * `-c "Kelexine Labs"`: Sets the 'Codename' for your repository (will appear in `Release` file).
            * `-d "A repository..."`: Sets the 'Description'.
            * *(Future Enhancement):* You can add parameters to include different sections (e.g., `-s main,experimental`).
        6.  **Git Operations:**
            * Configure Git user (name and email for the bot).
            * `git add dists/ Packages* Release* InRelease*`: Stages all generated `apt` repository files.
            * `git commit -m "Automated: Build and update Termux APT repository"`: Commits the changes.
            * `git push`: Pushes the updated repository files back to the `main` branch.
4.  **GitHub Pages Setup:**
    * In your `kelexine-labs` GitHub repository settings, configure GitHub Pages.
    * **Source:** Set the source to the `main` branch (or `gh-pages` if you prefer to push there and configure the workflow accordingly). This will serve your `apt` repository files.

---

### 5. Usage & Accessibility Guidelines for End Users

Clear instructions are vital for users to add and utilize your repository in Termux.

#### Adding Kelexine Labs to Termux:

1.  **Add `sources.list` entry:**
    ```bash
    echo "deb [https://kelexine.github.io/kelexine-labs](https://kelexine.github.io/kelexine-labs) kelexine main" > $PREFIX/etc/apt/sources.list.d/kelexine-labs.list
    ```
    *(Note: Replace `kelexine.github.io/kelexine-labs` with your actual GitHub Pages URL or custom domain if applicable.)*
2.  **Update `apt`:**
    ```bash
    pkg update
    ```
3.  **Install packages:**
    ```bash
    pkg install <your-package-name>
    ```

#### Repository URL:

* Default GitHub Pages URL: `https://<YOUR_GITHUB_USERNAME>.github.io/kelexine-labs/`
* **Optional Custom Domain:** `https://packages.kelexine.com` (or similar)
    * To set this up, add a `CNAME` file to the root of your `kelexine-labs` repository with your custom domain (e.g., `packages.kelexine.com`) and configure DNS records with your domain provider to point to your GitHub Pages.

---

### 6. Maintenance & Best Practices

* **Version Control:** Always commit your `.deb` packages to the `pool/` directory. Each new version of a package should overwrite the old one in `pool/` if it's an update, or be added as a new file if it's a distinct package.
* **README.md:** Keep your `README.md` file updated with a list of available packages, their brief descriptions, and any specific usage notes.
* **Package Naming:** Follow standard Termux package naming conventions where possible (lowercase, hyphens for separation).
* **Dependencies:** Ensure your packages correctly declare their dependencies in their `control` file when building the `.deb`. `termux-apt-repo` will pick these up.
* **Security:** Be mindful of what binaries you compile and distribute. Ensure they are safe and don't contain malicious code.
* **Testing:** Test your packages thoroughly in Termux before adding them to the repository.
* **GitHub Issues:** Consider enabling GitHub Issues on your `kelexine-labs` repository for users to report bugs or request features for your packages.

